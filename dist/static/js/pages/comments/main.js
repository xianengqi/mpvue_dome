global.webpackJsonp([4],{"+I1T":function(n,t){},"87+o":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("5nAL"),i=e.n(o),r=e("hmwE");i.a.config.productionTip=!1,new i.a(r.a).$mount(),t.default={config:{navigationBarTitleText:"评论列表",enablePullDownRefresh:!0}}},brr7:function(n,t,e){"use strict";var o=e("Xxa5"),i=e.n(o),r=e("exGp"),s=e.n(r),a=e("rQBB"),c=e("BpLC"),u=e("rhdv");t.a={data:function(){return{comments:[],books:[],userinfo:{}}},components:{CommentList:c.a,Card:u.a},methods:{init:function(){wx.showNavigationBarLoading(),this.getComments(),this.getBooks(),wx.hideNavigationBarLoading()},getBooks:function(){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.a)("/weapp/booklist",{openid:n.userinfo.openId});case 2:e=t.sent,n.books=e.list;case 4:case"end":return t.stop()}},t,n)}))()},getComments:function(){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.a)("/weapp/commentlist",{openid:n.userinfo.openId});case 2:e=t.sent,n.comments=e.list;case 4:case"end":return t.stop()}},t,n)}))()}},onPullDownRefresh:function(){this.init(),wx.stopPullDownRefresh()},onShow:function(){if(!this.userinfo.openId){var n=wx.getStorageSync("userinfo");n&&(this.userinfo=n,this.init())}}}},hmwE:function(n,t,e){"use strict";var o=e("brr7"),i=e("rXyO");var r=function(n){e("+I1T")},s=e("ybqe")(o.a,i.a,r,null,null);t.a=s.exports},rXyO:function(n,t,e){"use strict";var o={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"container"},[n.userinfo.openId?e("CommentList",{attrs:{type:"user",comments:n.comments,mpcomid:"0"}}):n._e(),n._v(" "),n.userinfo.openId?e("div",[e("div",{staticClass:"page-title"},[n._v("我的图书")]),n._v(" "),n._l(n.books,function(n,t){return e("Card",{key:n.id,attrs:{book:n,mpcomid:"1-"+t}})}),n._v(" "),n.books.length?n._e():e("div",[n._v("暂时还没添加过书，快去添加几本把")])],2):n._e()],1)},staticRenderFns:[]};t.a=o}},["87+o"]);